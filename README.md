# **Настройки линтеров и форматеров в проекте.**

## Настройки линтеров в **pyproject.toml:**

### Ruff (линтер + форматтер)

1. #### Совместимость с Python 3.12
2. #### Длина строки 88 символов, отступы 4 пробела
3. #### Двойные кавычки, автоформатирование докстрингов
4. #### Строгие правила:
   * Ошибки (E)
   * Стиль (F, W)
   * Именование (N)
   * Безопасность (S)
   * Аннотации типов (ANN)
   * Асинхронность (ASYNC)
   * Упрощение кода (SIM)
   * Логирование (LOG)

5. #### Исключения по файлам:
   * __init__.py: F401 (неиспользуемые импорты)
   * Обработчики: PLR0913/PLR0915 (много аргументов/операторов)

### mypy (проверка типов)
  * Строгая проверка типов
  * Требует аннотации типов
  * Игнорирует отсутствующие импорты

## Pre-commit хуки

### Файл .pre-commit-config.yaml запускает:

  * ruff (проверка + автоисправление)
  * ruff-format (форматирование)
  * mypy (проверка типов)

### Исключенные пути:
  * .venv/, __pycache__/, .git/
  * Конфигурационные файлы (config.py, .env)
  * poetry.lock

## Основные команды
### Ручные проверки

#### Запуск всех проверок
  * pre-commit run --all-files

#### Проверки Ruff
  * ruff check . 
  * ruff check --fix .
  * ruff format .

#### Проверка типов
  * mypy .


### Во время разработки

1. #### Хуки запускаются автоматически при
   * git commit
2. #### Пропуск проверок (при необходимости):
   * git commit --no-verify -m "сообщение"
3. #### Игнорирование конкретного правила:
   * #noqa: КОД_ПРАВИЛА  # пояснение

## Стандарты качества

* #### Весь новый код должен проходить:
   * Проверку Ruff
   * Проверку типов
* #### Форматирование
* #### Исключения требуют обоснования
* #### Документирование неочевидных игнорирований

## Решение проблем

#### Если хуки не работают:
   * pre-commit clean
   * pre-commit install

#### Обновление инструментов:

poetry update --with dev